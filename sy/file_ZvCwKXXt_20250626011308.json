[
  {
    "bookSourceGroup": "-  ♛  🐉番茄联盟一条龙(拼接版)",
    "bookSourceName": "🍅 短剧联盟(拼接版)",
    "bookSourceType": 0,
    "bookSourceUrl": "书壳来自:情无羁\n搜索来自:鲸落\n短剧接口:短剧搜索(Buding提供)\n原版书源:https://ysqbbs.com/thread-57820-1-1.html\n套壳说明:原版来自Buding大佬今天在源论坛发的 短剧合集网 书源，至于为何整出这套壳版，我只能说请自己拿原版和这套壳版对比下就知道了！\n接口测试1: https://ss.apps.dj/play.php?video_id=7509496120117054526\n\n接口测试2: https://dj.dktxm.com/play.php?video_id=7509496120117054526\n\n接口测试3: https://www.rr6w.com/2/play.php?video_id=7509496120117054526\n\n\n接口测试4: http://www.jishuige.com/play.php?video_id=7509496120117054526\n\n接口测试5:(部分地区要楼梯) http://www.moshiw.cn/play.php?video_id=7509496120117054526\n\n接口测试6:(部分地区要楼梯) https://www.vipdjzx.com/play.php?video_id=7509496120117054526\n\n整理时间:2025年6月24日14:30短剧搜索",
    "customOrder": 11,
    "enabled": true,
    "enabledCookieJar": false,
    "enabledExplore": false,
    "jsLib": "function i() {\n    var defaultUrl = \"http://49.232.25.145:14514\";\n    var sourceObj = this.source;\n    try {\n        var variableData = sourceObj.getVariable() && JSON.parse(sourceObj.getVariable());\n        var targetUrl = variableData && variableData[0] && variableData[0].url;\n        var baseUrl = targetUrl || defaultUrl;\n        var fullUrl = /^https?:/.test(baseUrl) ? baseUrl : \"https://\" + baseUrl;\n        return fullUrl.replace(/\\/$/, \"\");\n    } catch (error) {\n        var fallbackUrl = /^https?:/.test(defaultUrl) ? defaultUrl : \"https://\" + defaultUrl;\n        return fallbackUrl.replace(/\\/$/, \"\");\n    }\n}\n\nfunction host() {\n    var defaultHost = \"https://ss.apps.dj\";\n    var sourceObj = this.source;\n    try {\n        var variableData = sourceObj.getVariable() && JSON.parse(sourceObj.getVariable());\n        var targetHost = variableData && variableData[0] && variableData[0].host;\n        var baseHost = targetHost || defaultHost;\n        var fullHost = /^https?:/.test(baseHost) ? baseHost : \"https://\" + baseHost;\n        return fullHost.replace(/\\/$/, \"\");\n    } catch (error) {\n        var fallbackHost = /^https?:/.test(defaultHost) ? defaultHost : \"https://\" + defaultHost;\n        return fallbackHost.replace(/\\/$/, \"\");\n    }\n}",
    "lastUpdateTime": 1750871571603,
    "loginUi": "[\n  {\n  \t\"name\":\"短剧搜索1\",\"type\":\"button\",\n  \t\"action\":\"sethost(1)\"\n  },\n  {\n  \t\"name\":\"短剧搜索2\",\"type\":\"button\",\n  \t\"action\":\"sethost(2)\"\n  },\n  {\n  \t\"name\":\"短剧搜索3\",\"type\":\"button\",\n  \t\"action\":\"sethost(3)\"\n  },\n  {\n  \t\"name\":\"短剧搜索4\",\"type\":\"button\",\n  \t\"action\":\"sethost(4)\"\n  },\n  {\n  \t\"name\":\"短剧翻墙5\",\"type\":\"button\",\n  \t\"action\":\"sethost(5)\"\n  },\n  {\n  \t\"name\":\"短剧翻墙6\",\"type\":\"button\",\n  \t\"action\":\"sethost(6)\"\n  },{\n  \t\"name\":\"搜索接口1\",\"type\":\"button\",\n  \t\"action\":\"seturl(1)\"\n  },\n  {\n  \t\"name\":\"搜索接口2\",\"type\":\"button\",\n  \t\"action\":\"seturl(2)\"\n  }\n]",
    "loginUrl": "var hosts = [\n    \"https://ss.apps.dj\",\n    \"https://dj.dktxm.com\",\n    \"https://www.rr6w.com/2\",\n    \"http://www.jishuige.com\",\n    \"https://dj.mlhh.cn\",\n    \"http://dj.shusan.cc:5006\",\n    \"https://v3.yesui.me\",\n    \"http://www.moshiw.cn\",\n    \"https://www.vipdjzx.com\"\n];\nvar urls=[\n\"http://49.232.25.145:14514\",\n\"https://api.xingzhige.com\"\n\n];\n// 初始化检查函数\nfunction initConfig() {\n    var config = [];\n    try {\n        config = JSON.parse(source.getVariable());\n    } catch (e) {   }\n        if (!Array.isArray(config) || config.length === 0) {\n        config = [{ host: \"\", url: \"\" }];\n        source.setVariable(JSON.stringify(config));\n    }\n    return config;\n}\n\n// 设置host方法\nfunction sethost(index) {\n    var config = initConfig();\n    if (index >= 1 && index <= hosts.length) {\n        // 创建新配置对象，保留现有URL\n        var newConfig = [{\n            host: hosts[index - 1],\n            url: config[0] && config[0].url ? config[0].url : \"\"\n        }];\n        source.setVariable(JSON.stringify(newConfig));\n        java.longToast(\"设置成功，当前线路：\" + hosts[index - 1]);\n    } else {\n        java.toast(\"❌ 无效的线路索引\");\n    }\n}\n\n// 设置URL方法\nfunction seturl(index) {\n    var config = initConfig();\n    if (index >= 1 && index <= urls.length) {\n        // 创建新配置对象，保留现有host\n        var newConfig = [{\n            host: config[0] && config[0].host ? config[0].host : \"\",\n            url: urls[index - 1]\n        }];\n        source.setVariable(JSON.stringify(newConfig));\n        java.longToast(\"设置成功，当前搜索URL：\" + urls[index - 1]);\n    } else {\n        java.toast(\"❌ 无效的搜索URL索引\");\n    }\n}\n",
    "respondTime": 180000,
    "ruleBookInfo": {
      "author": "$.author",
      "init": "$.data",
      "intro": "@js:\nvar book_name=`{{$.original_book_name}}`\nif(book_name){\n\tr=`&nbsp;&nbsp;\n📕 源名：{{$.original_book_name}}\n📖 别名：{{$.book_flight_alias_name}}\n✏️ 开坑：{{$.create_time##T|\\+.*## }}\n🏷️ 标签：{{$.tags}}\n👤 主角：{{$.roles##\\[|\\\"|\\]}}\n👁️ 在线：{{$.read_count}}人在读\n🔗 书籍状态：__status__{{\"\\n\"+\"​\"}}\n📜 简介：{{$.abstract}}{{\"\\n\"+\"​\"}}\n📍 {{$.copyright_info##，.*##。}}{{\"\\n\"+\"​\"}}\n{{java.get('tts_info')}}`\nr.replace(/.+：(人在读)?\\n/g,\"\").replace('__status__', (java.getString('$.book_search_visible') == 'true' ? '正常' : (java.getString('$.tomato_book_status') == '3' ? '下架' : '小黑屋')))\n\t}else{\n\t\tr=`简介：\n{{$.detail.desc}}\n版权声明：{{$.detail.record_number}}`\n\t\t}\n",
      "kind": "<js>\ngender=`{{$.gender}}`\nif(gender){\n\tgender=`男生{{$.gender}}女生`;\n\tcategory=`{{$.category}}`;\n\tcreation_status=`连载{{$.creation_status}}完结`;\n\tscore=`{{$.score}}分`;\n\nlast_chapter_update_time=java.timeFormatUTC(java.getString(\"last_chapter_update_time\")*1000,'yyyy-MM-dd',8);\nr=gender+\",\"+category+\",\"+creation_status+\",\"+score+\",\"+last_chapter_update_time\n\t}else{\n\t\tr=`{{$.category_schema##、##,}}`\n\t\t}\n\nr\n</js>\n##连载0|1完结|男生0|1女生",
      "lastChapter": "<js>\nlast_chapter_title=`{{$.last_chapter_title}}`\nif(last_chapter_title){\n\tr=last_chapter_title+ \"•\"+java.timeFormat(java.getString(\"last_chapter_update_time\")*1000)\n\t}else{\n\t\n\t\tr=`第{{$.detail.total}}集`\n\t}\n\tr\n</js>",
      "name": "$.book_name||$.detail.title",
      "tocUrl": "$.book_id\n@js:\nif(result){\n\tjava.put('book_id', result);\n '/catalog?book_id=' + result;\n\t}\n",
      "wordCount": "word_number||$.detail.duration"
    },
    "ruleContent": {
      "content": "@js:\nitem_id=java.hexDecodeToString(result)\ntitle=java.get(\"title\")\n if(item_id.includes(\"playlet\")) {\n\tvar ajax=java.ajax(item_id)\n\tvar json_data = JSON.parse(ajax);\nvar url=json_data.data.video.url\ncontent=url\n\t}else{\n\t\tcontent=`{{host()}}/play.php?video_id=${item_id}&type=mp4`\n\t\t}\nif(book.durChapterIndex==chapter.index){\n\tvar html=`<!DOCTYPE html>\n<html lang=\"zh-CN\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no\">\n    <title>${title}</title>\n    <link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css\">\n    <style>\n        * {\n            margin: 0;\n            padding: 0;\n            box-sizing: border-box;\n            -webkit-tap-highlight-color: transparent;\n        }\n        \n        body {\n            background: #000;\n            color: #fff;\n            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n            height: 100vh;\n            overflow: hidden;\n            position: relative;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n        }\n        \n        .player-container {\n            position: fixed;\n            top: 0;\n            left: 0;\n            width: 100%;\n            height: 100%;\n            background: #000;\n            display: flex;\n            flex-direction: column;\n            justify-content: center;\n            align-items: center;\n            z-index: 100;\n            overflow: hidden;\n        }\n        \n        video {\n            max-width: 100%;\n            max-height: 100%;\n            transition: all 0.5s ease;\n            background: #000;\n        }\n        \n        .player-container.landscape video {\n            max-width: 70%;\n            max-height: 70%;\n        }\n        \n        .start-overlay {\n            position: absolute;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            display: flex;\n            flex-direction: column;\n            justify-content: center;\n            align-items: center;\n            background: rgba(0,0,0,0.7);\n            z-index: 15;\n        }\n        \n        .start-button {\n            width: 100px;\n            height: 100px;\n            border-radius: 50%;\n            background: rgba(255, 51, 102, 0.8);\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            font-size: 2.5rem;\n            color: white;\n            cursor: pointer;\n            box-shadow: 0 0 30px rgba(255, 51, 102, 0.6);\n            animation: pulse 2s infinite;\n            transition: transform 0.2s;\n        }\n        \n        .start-button:active {\n            transform: scale(0.95);\n        }\n        \n        @keyframes pulse {\n            0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(255, 51, 102, 0.7); }\n            70% { transform: scale(1.05); box-shadow: 0 0 0 15px rgba(255, 51, 102, 0); }\n            100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(255, 51, 102, 0); }\n        }\n        \n        .start-text {\n            margin-top: 25px;\n            font-size: 1.3rem;\n            text-align: center;\n            max-width: 80%;\n            line-height: 1.5;\n            color: rgba(255, 255, 255, 0.9);\n            text-shadow: 0 1px 3px rgba(0,0,0,0.5);\n        }\n        \n        .controls {\n            position: absolute;\n            bottom: 0;\n            left: 0;\n            right: 0;\n            background: linear-gradient(to top, rgba(0,0,0,0.8), transparent);\n            padding: 20px 15px 35px;\n            display: flex;\n            flex-direction: column;\n            z-index: 10;\n            opacity: 0;\n            transition: opacity 0.3s;\n        }\n        \n        .player-container.show-controls .controls {\n            opacity: 1;\n        }\n        \n        .progress-container {\n            width: 100%;\n            height: 6px;\n            background: rgba(255,255,255,0.2);\n            border-radius: 3px;\n            margin-bottom: 20px;\n            position: relative;\n            cursor: pointer;\n            overflow: hidden;\n        }\n        \n        .progress-bg {\n            position: absolute;\n            top: 0;\n            left: 0;\n            height: 100%;\n            width: 100%;\n            background: rgba(255,255,255,0.1);\n            border-radius: 3px;\n        }\n        \n        .progress {\n            position: absolute;\n            top: 0;\n            left: 0;\n            height: 100%;\n            width: 0%;\n            background: #ff3366;\n            border-radius: 3px;\n            transition: width 0.1s linear;\n        }\n        \n        .progress-thumb {\n            position: absolute;\n            top: 50%;\n            right: -8px;\n            width: 16px;\n            height: 16px;\n            background: white;\n            border-radius: 50%;\n            transform: translateY(-50%);\n            box-shadow: 0 0 8px rgba(0,0,0,0.5);\n            transition: transform 0.2s, box-shadow 0.2s;\n        }\n        \n        .progress-container.dragging .progress-thumb {\n            transform: translateY(-50%) scale(1.3);\n            box-shadow: 0 0 12px rgba(255,255,255,0.7);\n        }\n        \n        .buffered {\n            position: absolute;\n            top: 0;\n            left: 0;\n            height: 100%;\n            width: 0%;\n            background: rgba(255,255,255,0.3);\n            border-radius: 3px;\n            transition: width 0.2s;\n        }\n        \n        .time {\n            display: flex;\n            justify-content: space-between;\n            font-size: 0.85rem;\n            color: rgba(255,255,255,0.8);\n            margin-bottom: 15px;\n        }\n        \n        .control-buttons {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n        }\n        \n        .play-btn {\n            background: rgba(255,255,255,0.15);\n            width: 50px;\n            height: 50px;\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 1.8rem;\n            transition: transform 0.2s, background 0.2s;\n        }\n        \n        .play-btn:active {\n            transform: scale(0.9);\n            background: rgba(255,255,255,0.25);\n        }\n        \n        .side-buttons {\n            display: flex;\n            gap: 20px;\n        }\n        \n        .side-btn {\n            color: white;\n            font-size: 1.4rem;\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            position: relative;\n        }\n        \n        .volume-container {\n            display: flex;\n            align-items: center;\n            gap: 10px;\n        }\n        \n        .volume-slider {\n            width: 80px;\n            height: 6px;\n            background: rgba(255,255,255,0.2);\n            border-radius: 3px;\n            -webkit-appearance: none;\n            appearance: none;\n            outline: none;\n            transition: all 0.2s;\n        }\n        \n        .volume-slider::-webkit-slider-thumb {\n            -webkit-appearance: none;\n            appearance: none;\n            width: 14px;\n            height: 14px;\n            border-radius: 50%;\n            background: white;\n            cursor: pointer;\n            transition: transform 0.2s;\n        }\n        \n        .volume-slider::-webkit-slider-thumb:active {\n            transform: scale(1.3);\n        }\n        \n        .play-overlay {\n            position: absolute;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            z-index: 8;\n            opacity: 0;\n            pointer-events: none;\n            transition: opacity 0.3s;\n        }\n        \n        .big-play-btn {\n            width: 80px;\n            height: 80px;\n            background: rgba(255,255,255,0.2);\n            border-radius: 50%;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            color: white;\n            font-size: 2.5rem;\n            backdrop-filter: blur(10px);\n        }\n        \n        .loading {\n            position: absolute;\n            top: 50%;\n            left: 50%;\n            transform: translate(-50%, -50%);\n            font-size: 1.2rem;\n            color: rgba(255,255,255,0.7);\n            z-index: 5;\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            gap: 15px;\n        }\n        \n        .loading-spinner {\n            width: 50px;\n            height: 50px;\n            border: 4px solid rgba(255,255,255,0.1);\n            border-top: 4px solid #ff3366;\n            border-radius: 50%;\n            animation: spin 1s linear infinite;\n        }\n        \n        @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n        }\n        \n        .speed-display {\n            position: absolute;\n            top: 20px;\n            right: 20px;\n            background: rgba(0,0,0,0.7);\n            padding: 8px 15px;\n            border-radius: 20px;\n            font-size: 0.9rem;\n            z-index: 10;\n            opacity: 0;\n            transition: opacity 0.3s;\n            backdrop-filter: blur(5px);\n        }\n        \n        .player-container.show-speed .speed-display {\n            opacity: 1;\n        }\n        \n        .volume-display {\n            position: absolute;\n            top: 20px;\n            left: 20px;\n            background: rgba(0,0,0,0.7);\n            padding: 8px 15px;\n            border-radius: 20px;\n            font-size: 0.9rem;\n            z-index: 10;\n            opacity: 0;\n            transition: opacity 0.3s;\n            backdrop-filter: blur(5px);\n        }\n        \n        .player-container.show-volume .volume-display {\n            opacity: 1;\n        }\n        \n        .preview-thumbnail {\n            position: absolute;\n            width: 120px;\n            height: 70px;\n            border-radius: 5px;\n            border: 2px solid white;\n            box-shadow: 0 5px 15px rgba(0,0,0,0.5);\n            transform: translate(-50%, -100%);\n            opacity: 0;\n            transition: opacity 0.2s;\n            pointer-events: none;\n            z-index: 20;\n            background: #000;\n            overflow: hidden;\n        }\n        \n        .preview-thumbnail img {\n            width: 100%;\n            height: 100%;\n            object-fit: cover;\n        }\n        \n        .preview-time {\n            position: absolute;\n            bottom: 5px;\n            left: 0;\n            right: 0;\n            text-align: center;\n            font-size: 0.7rem;\n            background: rgba(0,0,0,0.7);\n            padding: 3px;\n        }\n        \n        .landscape-btn {\n            position: absolute;\n            top: 20px;\n            left: 50%;\n            transform: translateX(-50%);\n            background: rgba(0,0,0,0.7);\n            color: white;\n            padding: 10px 20px;\n            border-radius: 30px;\n            display: flex;\n            align-items: center;\n            gap: 10px;\n            cursor: pointer;\n            z-index: 25;\n            transition: all 0.3s;\n            backdrop-filter: blur(5px);\n            box-shadow: 0 0 15px rgba(0,0,0,0.5);\n            opacity: 0;\n            pointer-events: none;\n            transition: opacity 0.4s ease, transform 0.3s ease;\n        }\n        \n        .landscape-btn.show {\n            opacity: 1;\n            pointer-events: all;\n        }\n        \n        .landscape-btn.hidden {\n            opacity: 0;\n            pointer-events: none;\n        }\n        \n        .landscape-btn i {\n            font-size: 1.2rem;\n        }\n        \n        .player-container.landscape .landscape-btn {\n            display: flex;\n        }\n        \n        @media (max-width: 480px) {\n            .controls {\n                padding: 15px 15px 30px;\n            }\n            \n            .play-btn {\n                width: 45px;\n                height: 45px;\n                font-size: 1.6rem;\n            }\n            \n            .side-buttons {\n                gap: 15px;\n            }\n            \n            .volume-slider {\n                width: 60px;\n            }\n            \n            .start-button {\n                width: 80px;\n                height: 80px;\n                font-size: 2rem;\n            }\n            \n            .start-text {\n                font-size: 1.1rem;\n            }\n            \n            .speed-display, .volume-display {\n                padding: 6px 12px;\n                font-size: 0.8rem;\n            }\n            \n            .landscape-btn {\n                font-size: 0.9rem;\n                padding: 8px 15px;\n            }\n            \n            .player-container.landscape video {\n                max-width: 85%;\n                max-height: 85%;\n            }\n        }\n        \n        /* 横屏模式下的特殊样式 */\n        .player-container.fullscreen-landscape {\n            background: #000;\n        }\n        \n        .player-container.fullscreen-landscape video {\n            max-width: 100%;\n            max-height: 100%;\n            width: 100%;\n            height: 100%;\n            object-fit: contain;\n        }\n        \n        .player-container.fullscreen-landscape .landscape-btn {\n            display: none;\n        }\n    </style>\n</head>\n<body>\n    <div class=\"player-container\" id=\"playerContainer\">\n        <video id=\"videoPlayer\">\n            <source src=\"${content}\" type=\"video/mp4\">\n            您的浏览器不支持HTML5视频播放。\n        </video>\n        \n        <div class=\"landscape-btn\" id=\"landscapeBtn\">\n            <i class=\"fas fa-expand\"></i> 横屏播放\n        </div>\n        \n        <div class=\"start-overlay\" id=\"startOverlay\">\n            <div class=\"start-button\" id=\"startButton\">\n                <i class=\"fas fa-play\"></i>\n            </div>\n            <div class=\"start-text\">点击播放按钮开始观看视频</div>\n        </div>\n        \n        <div class=\"controls\">\n            <div class=\"progress-container\" id=\"progressContainer\">\n                <div class=\"progress-bg\"></div>\n                <div class=\"buffered\" id=\"buffered\"></div>\n                <div class=\"progress\" id=\"progress\">\n                    <div class=\"progress-thumb\"></div>\n                </div>\n                <div class=\"preview-thumbnail\" id=\"previewThumbnail\">\n                    <div class=\"preview-time\">00:00</div>\n                </div>\n            </div>\n            \n            <div class=\"time\">\n                <span id=\"currentTime\">00:00</span>\n                <span id=\"duration\">00:00</span>\n            </div>\n            \n            <div class=\"control-buttons\">\n                <div class=\"play-btn\" id=\"playBtn\">\n                    <i class=\"fas fa-pause\"></i>\n                </div>\n                \n                <div class=\"side-buttons\">\n                    <div class=\"side-btn\" id=\"speedBtn\">\n                        <i class=\"fas fa-running\"></i>\n                    </div>\n                    \n                    <div class=\"volume-container\">\n                        <i class=\"fas fa-volume-up\" id=\"volumeIcon\"></i>\n                        <input type=\"range\" class=\"volume-slider\" id=\"volumeSlider\" min=\"0\" max=\"1\" step=\"0.01\" value=\"0.5\">\n                    </div>\n                    \n                    <div class=\"side-btn\" id=\"fullscreenBtn\">\n                        <i class=\"fas fa-expand\"></i>\n                    </div>\n                </div>\n            </div>\n        </div>\n        \n        <div class=\"play-overlay\" id=\"playOverlay\">\n            <div class=\"big-play-btn\">\n                <i class=\"fas fa-pause\"></i>\n            </div>\n        </div>\n        \n        <div class=\"loading\" id=\"loading\">\n            <div class=\"loading-spinner\"></div>\n            <div>加载中...</div>\n        </div>\n        \n        <div class=\"speed-display\" id=\"speedDisplay\">正常速度</div>\n        <div class=\"volume-display\" id=\"volumeDisplay\">音量: 50%</div>\n    </div>\n\n    <script>\n        document.addEventListener('DOMContentLoaded', function() {\n            \n            var video = document.getElementById('videoPlayer');\n            var playerContainer = document.getElementById('playerContainer');\n            var startOverlay = document.getElementById('startOverlay');\n            var startButton = document.getElementById('startButton');\n            var playBtn = document.getElementById('playBtn');\n            var progress = document.getElementById('progress');\n            var progressContainer = document.getElementById('progressContainer');\n            var buffered = document.getElementById('buffered');\n            var currentTime = document.getElementById('currentTime');\n            var duration = document.getElementById('duration');\n            var fullscreenBtn = document.getElementById('fullscreenBtn');\n            var playOverlay = document.getElementById('playOverlay');\n            var speedBtn = document.getElementById('speedBtn');\n            var volumeSlider = document.getElementById('volumeSlider');\n            var volumeIcon = document.getElementById('volumeIcon');\n            var loading = document.getElementById('loading');\n            var speedDisplay = document.getElementById('speedDisplay');\n            var volumeDisplay = document.getElementById('volumeDisplay');\n            var previewThumbnail = document.getElementById('previewThumbnail');\n            var previewTime = previewThumbnail.querySelector('.preview-time');\n            var landscapeBtn = document.getElementById('landscapeBtn');\n            \n            \n            var isDragging = false;\n            var speedTimeout, volumeTimeout;\n            var isLandscapeMode = false;\n            var isFullscreen = false;\n            var isAutoLandscape = false;\n            \n            \n            playerContainer.classList.add('show-controls');\n            video.volume = 0.5;\n            \n            \n            function checkFullscreen() {\n                isFullscreen = document.fullscreenElement || \n                              document.webkitFullscreenElement || \n                              document.mozFullScreenElement || \n                              document.msFullscreenElement;\n                updateLandscapeBtnVisibility();\n            }\n            \n            \n            function updateLandscapeBtnVisibility() {\n                if (isFullscreen) {\n                    landscapeBtn.classList.add('hidden');\n                } else if (video.videoWidth > video.videoHeight) {\n                    landscapeBtn.classList.remove('hidden');\n                    landscapeBtn.classList.add('show');\n                } else {\n                    landscapeBtn.classList.add('hidden');\n                    landscapeBtn.classList.remove('show');\n                }\n            }\n            \n            \n            function checkVideoOrientation() {\n                if (video.videoWidth > video.videoHeight) {\n                    \n                    playerContainer.classList.add('landscape');\n                    if (!isFullscreen) {\n                        landscapeBtn.classList.remove('hidden');\n                        landscapeBtn.classList.add('show');\n                    }\n                } else {\n                    playerContainer.classList.remove('landscape');\n                    landscapeBtn.classList.add('hidden');\n                    landscapeBtn.classList.remove('show');\n                }\n            }\n            \n            \n            function startPlayback() {\n                startOverlay.style.display = 'none';\n                video.play();\n                playBtn.innerHTML = '<i class=\"fas fa-pause\"></i>';\n                playerContainer.classList.add('show-controls');\n                \n                \n                checkLandscapeMode();\n            }\n            \n            startButton.addEventListener('click', startPlayback);\n            \n            \n            function togglePlay() {\n                if (video.paused) {\n                    video.play();\n                    playBtn.innerHTML = '<i class=\"fas fa-pause\"></i>';\n                    playOverlay.innerHTML = '<div class=\"big-play-btn\"><i class=\"fas fa-pause\"></i></div>';\n                } else {\n                    video.pause();\n                    playBtn.innerHTML = '<i class=\"fas fa-play\"></i>';\n                    playOverlay.innerHTML = '<div class=\"big-play-btn\"><i class=\"fas fa-play\"></i></div>';\n                }\n                \n                playOverlay.style.opacity = 1;\n                setTimeout(function() {\n                    playOverlay.style.opacity = 0;\n                }, 500);\n            }\n            \n            playBtn.addEventListener('click', togglePlay);\n            \n            \n            function updateProgress() {\n                if (isDragging) return;\n                \n                var percent = (video.currentTime / video.duration) * 100;\n                progress.style.width = percent + '%';\n                \n                \n                var currentMins = Math.floor(video.currentTime / 60);\n                var currentSecs = Math.floor(video.currentTime % 60);\n                var durationMins = Math.floor(video.duration / 60);\n                var durationSecs = Math.floor(video.duration % 60);\n                \n                currentTime.textContent = \n                    (currentMins < 10 ? '0' : '') + currentMins + ':' + (currentSecs < 10 ? '0' : '') + currentSecs;\n                \n                duration.textContent = \n                    (durationMins < 10 ? '0' : '') + durationMins + ':' + (durationSecs < 10 ? '0' : '') + durationSecs;\n                \n                \n                if (video.buffered.length > 0) {\n                    var bufferedEnd = video.buffered.end(video.buffered.length - 1);\n                    var bufferedPercent = (bufferedEnd / video.duration) * 100;\n                    buffered.style.width = bufferedPercent + '%';\n                }\n            }\n            \n            video.addEventListener('timeupdate', updateProgress);\n            \n            \n            function startDrag(e) {\n                e.preventDefault();\n                isDragging = true;\n                progressContainer.classList.add('dragging');\n                \n                \n                previewThumbnail.style.opacity = 0;\n                \n                \n                document.addEventListener('mousemove', drag);\n                document.addEventListener('mouseup', endDrag);\n                document.addEventListener('touchmove', drag);\n                document.addEventListener('touchend', endDrag);\n                \n                \n                updateDrag(e);\n            }\n            \n            function drag(e) {\n                if (!isDragging) return;\n                updateDrag(e);\n            }\n            \n            function updateDrag(e) {\n                var rect = progressContainer.getBoundingClientRect();\n                var position;\n                \n                if (e.type.indexOf('touch') !== -1) {\n                    position = (e.touches[0].clientX - rect.left) / rect.width;\n                } else {\n                    position = (e.clientX - rect.left) / rect.width;\n                }\n                \n                position = Math.max(0, Math.min(1, position));\n                var newTime = position * video.duration;\n                \n                \n                progress.style.width = (position * 100) + '%';\n                \n                \n                var previewMins = Math.floor(newTime / 60);\n                var previewSecs = Math.floor(newTime % 60);\n                previewTime.textContent = \n                    (previewMins < 10 ? '0' : '') + previewMins + ':' + (previewSecs < 10 ? '0' : '') + previewSecs;\n                \n                \n                currentTime.textContent = previewTime.textContent;\n            }\n            \n            function endDrag(e) {\n                if (!isDragging) return;\n                \n                var rect = progressContainer.getBoundingClientRect();\n                var position;\n                \n                if (e.type.indexOf('touch') !== -1) {\n                    position = (e.changedTouches[0].clientX - rect.left) / rect.width;\n                } else {\n                    position = (e.clientX - rect.left) / rect.width;\n                }\n                \n                position = Math.max(0, Math.min(1, position));\n                video.currentTime = position * video.duration;\n                \n                \n                document.removeEventListener('mousemove', drag);\n                document.removeEventListener('mouseup', endDrag);\n                document.removeEventListener('touchmove', drag);\n                document.removeEventListener('touchend', endDrag);\n                \n                \n                progressContainer.classList.remove('dragging');\n                isDragging = false;\n            }\n            \n            progressContainer.addEventListener('mousedown', startDrag);\n            progressContainer.addEventListener('touchstart', startDrag);\n            \n            \n            video.addEventListener('waiting', function() {\n                loading.style.display = 'flex';\n            });\n            \n            video.addEventListener('playing', function() {\n                loading.style.display = 'none';\n            });\n            \n            \n            function toggleFullscreen() {\n                if (!document.fullscreenElement) {\n                    \n                    if (playerContainer.requestFullscreen) {\n                        playerContainer.requestFullscreen();\n                    } else if (playerContainer.webkitRequestFullscreen) {\n                        playerContainer.webkitRequestFullscreen();\n                    } else if (playerContainer.msRequestFullscreen) {\n                        playerContainer.msRequestFullscreen();\n                    }\n                    isFullscreen = true;\n                    playerContainer.classList.add('fullscreen-landscape');\n                } else {\n                    \n                    if (document.exitFullscreen) {\n                        document.exitFullscreen();\n                    } else if (document.webkitExitFullscreen) {\n                        document.webkitExitFullscreen();\n                    } else if (document.msExitFullscreen) {\n                        document.msExitFullscreen();\n                    }\n                    isFullscreen = false;\n                    playerContainer.classList.remove('fullscreen-landscape');\n                }\n                updateLandscapeBtnVisibility();\n            }\n            \n            fullscreenBtn.addEventListener('click', toggleFullscreen);\n            landscapeBtn.addEventListener('click', toggleFullscreen);\n            \n            \n            function handleFullscreenChange() {\n                if (document.fullscreenElement || \n                    document.webkitFullscreenElement || \n                    document.mozFullScreenElement || \n                    document.msFullscreenElement) {\n                    isFullscreen = true;\n                    playerContainer.classList.add('fullscreen-landscape');\n                } else {\n                    isFullscreen = false;\n                    playerContainer.classList.remove('fullscreen-landscape');\n                    \n                    \n                    if (isLandscapeMode) {\n                        enterLandscapeMode();\n                    }\n                }\n                updateLandscapeBtnVisibility();\n            }\n            \n            document.addEventListener('fullscreenchange', handleFullscreenChange);\n            document.addEventListener('webkitfullscreenchange', handleFullscreenChange);\n            document.addEventListener('mozfullscreenchange', handleFullscreenChange);\n            document.addEventListener('MSFullscreenChange', handleFullscreenChange);\n            \n            \n            var controlsTimeout;\n            \n            function showControls() {\n                playerContainer.classList.add('show-controls');\n                clearTimeout(controlsTimeout);\n                controlsTimeout = setTimeout(function() {\n                    playerContainer.classList.remove('show-controls');\n                }, 3000);\n            }\n            \n            playerContainer.addEventListener('mousemove', showControls);\n            playerContainer.addEventListener('touchstart', showControls);\n            \n            \n            volumeSlider.addEventListener('input', function() {\n                video.volume = this.value;\n                updateVolumeIcon();\n                \n                \n                volumeDisplay.textContent = '音量: ' + Math.round(video.volume * 100) + '%';\n                playerContainer.classList.add('show-volume');\n                clearTimeout(volumeTimeout);\n                volumeTimeout = setTimeout(function() {\n                    playerContainer.classList.remove('show-volume');\n                }, 2000);\n            });\n            \n            function updateVolumeIcon() {\n                if (video.volume === 0) {\n                    volumeIcon.className = 'fas fa-volume-mute';\n                } else if (video.volume < 0.5) {\n                    volumeIcon.className = 'fas fa-volume-down';\n                } else {\n                    volumeIcon.className = 'fas fa-volume-up';\n                }\n            }\n            \n            \n            speedBtn.addEventListener('click', function() {\n                var speeds = [0.5, 0.75, 1, 1.25, 1.5, 2];\n                var currentSpeed = video.playbackRate;\n                var currentIndex = speeds.indexOf(currentSpeed);\n                var nextIndex = (currentIndex + 1) % speeds.length;\n                \n                video.playbackRate = speeds[nextIndex];\n                \n                \n                if (speeds[nextIndex] === 1) {\n                    speedDisplay.textContent = '正常速度';\n                } else {\n                    speedDisplay.textContent = speeds[nextIndex] + 'x 倍速';\n                }\n                \n                \n                playerContainer.classList.add('show-speed');\n                clearTimeout(speedTimeout);\n                speedTimeout = setTimeout(function() {\n                    playerContainer.classList.remove('show-speed');\n                }, 2000);\n            });\n            \n            \n            video.addEventListener('ended', function() {\n                playBtn.innerHTML = '<i class=\"fas fa-play\"></i>';\n                playOverlay.innerHTML = '<div class=\"big-play-btn\"><i class=\"fas fa-play\"></i></div>';\n                playOverlay.style.opacity = 1;\n                \n                if (isFullscreen) {\n                    toggleFullscreen();\n                } else {\n                    startOverlay.style.display = 'flex';\n                }\n            });\n            \n            \n            video.addEventListener('loadedmetadata', function() {\n                var mins = Math.floor(video.duration / 60);\n                var secs = Math.floor(video.duration % 60);\n                duration.textContent = \n                    (mins < 10 ? '0' : '') + mins + ':' + (secs < 10 ? '0' : '') + secs;\n                \n                \n                checkVideoOrientation();\n                checkFullscreen(); \n            });\n            \n            video.addEventListener('resize', checkVideoOrientation);\n            \n            \n            updateVolumeIcon();\n            \n            \n            landscapeBtn.addEventListener('mouseenter', function() {\n                this.style.transform = 'translateX(-50%) scale(1.05)';\n            });\n            \n            landscapeBtn.addEventListener('mouseleave', function() {\n                this.style.transform = 'translateX(-50%)';\n            });\n            \n            \n            function checkLandscapeMode() {\n                \n                if (window.innerWidth > window.innerHeight) {\n                    enterLandscapeMode();\n                } else {\n                    exitLandscapeMode();\n                }\n            }\n            \n            \n            function enterLandscapeMode() {\n                isLandscapeMode = true;\n                if (!isFullscreen) {\n                    toggleFullscreen();\n                }\n                playerContainer.classList.add('fullscreen-landscape');\n            }\n            \n            \n            function exitLandscapeMode() {\n                isLandscapeMode = false;\n                if (isFullscreen) {\n                    toggleFullscreen();\n                }\n                playerContainer.classList.remove('fullscreen-landscape');\n            }\n            \n            \n            window.addEventListener('resize', function() {\n                checkLandscapeMode();\n            });\n            \n            \n            checkLandscapeMode();\n        });\n    </script>\n</body>\n</html>\n`;\n\ncontenth_html=java.base64Encode(html)\ncontent_url= `data:text/html;base64,${contenth_html}`;\n\njava.startBrowser(content_url,'加载可能有些慢，网站上也是如此，请耐心等待');\n \n\t}\n\t'【刷新正文】播放\\n直链:\\n' + baseUrl"
    },
    "ruleExplore": {},
    "ruleSearch": {
      "author": "$.copyright||$.author##</?em>",
      "bookList": "<js>\nlet res = JSON.parse(result);\nlet bookList = [];\nif (res.search_tabs) {\n    for (let i = 0; i < res.search_tabs.length; i++) {\n        let books = res[\"search_tabs\"][i][\"data\"];\n        bookList = bookList.concat(books);        \n    }\n} else { bookList = res.data; }\nr=JSON.stringify(bookList);\n</js>$..video_data[*]||[*]",
      "bookUrl": "<js>\nid=`{{$.series_id}}`\nif(id){\n\tvar url=`{{i()}}/detail?book_id=${id}`\n\t}else{\n\t\tvar url=`{{i()}}/API/playlet/?book_id={{$.book_id}}`\n\t\t}\n\t\turl\n</js>",
      "checkKeyWord": "总裁",
      "coverUrl": "$..series_cover||$.cover",
      "intro": "$..series_intro||$.desc",
      "kind": "<js>\nvar original = result.category_schema;\nvar output = '';\nif (original === undefined || original === null) {\n  original = '';\n}\ntry {\n  var parsed = JSON.parse(original);\n  if (Array.isArray(parsed)) {\n    var names = [];\n    for (var i = 0; i < parsed.length; i++) {\n      var item = parsed[i];\n      if (item && typeof item.name === 'string') {\n        names.push(item.name);\n      }\n    }\n    output = names.join(',');\n  } else {\n    output = String(original).replace(/、/g, ',');\n  }\n} catch (e) {\n  output = String(original).replace(/、/g, ',');\n}\nvar score=`{{$.score}}`\n\nif(score){\n\tvar score =score+\"分\";\n\t}\n\t\noutput+\",\"+score;\n</js>",
      "lastChapter": "$..episode_right_text||$.type",
      "name": "$.title##<em>|</em>|《|》"
    },
    "ruleToc": {
      "chapterList": "data.item_data_list[*]||$.data.video_list[*]",
      "chapterName": "$.title\n@js:java.put('title', result);",
      "chapterUrl": "@js:\nid=`{{$.item_id}}`\nif(id){\n\tresult=`data:;base64,${java.base64Encode(id)},{\"type\":\"番茄短剧\"}`\n\t}else{\n\t\tid=`{{$.video_id}}`\n\t\turl=`{{i()}}/API/playlet/?video_id=${id}`\n\t\tresult=`data:;base64,${java.base64Encode(url)},{\"type\":\"番茄短剧\"}`\n\t\t}\n",
      "updateTime": "<js>\nchapter_word_number=`{{$.chapter_word_number}}`\nif(chapter_word_number){\n\tr=`{{$.volume_name}} | {{$.chapter_word_number}}字 | {{java.timeFormatUTC(java.getString(\"first_pass_time\") * 1000, 'yyyy-MM-dd HH:mm:ss', 12)}}`\n\t}else{\n\t\tr=\"\"\n\t\t}\nr\n</js>"
    },
    "searchUrl": "<js>\nurl=i()\nif(url==\"https://api.xingzhige.com\"){\nr=`${url}/API/playlet/?keyword=${key}&page=${page}`\n\t}else{\n\t\tr=`${url}/search?query=${key}&offset=${(page - 1) * 10}&tab_type=11`\n\t\t}\n\t\tr\n</js>",
    "weight": 0
  }
]