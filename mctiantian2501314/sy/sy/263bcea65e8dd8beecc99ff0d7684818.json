[
  {
    "bookSourceComment": "By_è†å¬æœˆä¸æ‚¦-2025.7.26\næ­£æ–‡æ¥å£: å°å°˜ æ”¯æŒ",
    "bookSourceGroup": "ğŸ…ç•ªèŒ„å…è´¹å°è¯´â˜ƒï¸,â˜ƒ è‡ªç”¨â˜ƒï¸",
    "bookSourceName": "ğŸ…ç•ªèŒ„å…è´¹å°è¯´",
    "bookSourceType": 0,
    "bookSourceUrl": "ç•ªèŒ„å…è´¹å°è¯´",
    "customOrder": 0,
    "enabled": true,
    "enabledCookieJar": true,
    "enabledExplore": true,
    "jsLib": "let replaceCover = (u) => {\n    if (u.startsWith(\"https://\")) u = u.substring(8)\n    else u = u.substring(7)\n    let uArr = u.split(\"/\")\n    uArr[0] = \"https://p6-novel.byteimg.com/origin\"\n    let uArr2 = []\n    uArr.forEach((x) => {\n        if (!x.includes(\"?\") && !x.includes(\"~\")) uArr2.push(x)\n        else uArr2.push(x.split(\"~\")[0])\n    })\n    u = uArr2.join(\"/\")\n    return u\n}\n",
    "lastUpdateTime": 1753540704005,
    "loginUrl": "https://fanqienovel.com",
    "respondTime": 180000,
    "ruleBookInfo": {
      "author": "$.author",
      "coverUrl": "@js:replaceCover(java.getString(\"thumb_url\"))",
      "init": "$.data[0]",
      "intro": "&nbsp;&nbsp;\nğŸ“– æºåï¼š{{$.original_book_name}}\nğŸ“– åˆ«åï¼š{{$.book_flight_alias_name}}\nâœï¸ å¼€å‘ï¼š{{$.create_time##T|\\+.*## }}{{\"\\n\"+\"â€‹\"}}\nğŸ·ï¸ åˆ†ç±»ï¼š{{$.complete_category##/##,}}\nğŸ·ï¸ æ ‡ç­¾ï¼š{{$.tags}}\nğŸ‘¥ ä¸»è§’ï¼š{{$.roles##\\[|\\\"|\\]}}\nğŸ‘ï¸ åœ¨çº¿ï¼š{{$.read_count}}äººåœ¨è¯»{{\"\\n\"+\"â€‹\"}}\nğŸ”– çŠ¶æ€ï¼š__status__{{\"\\n\"+\"â€‹\"}}\nğŸ“œ ç®€ä»‹ï¼š{{$.abstract}}{{\"\\n\"+\"â€‹\"}}\nğŸ“ {{$.copyright_info##ï¼Œ.*##ã€‚}}{{\"\\n\"+\"â€‹\"}}\n@js:\nresult\n.replace(/.+ï¼š(äººåœ¨è¯»)?\\n/g,\"\")\n.replace('__status__', (java.getString('$.book_search_visible') == 'true' ? 'æ­£å¸¸' : (java.getString('$.tomato_book_status') == '3' ? 'ä¸‹æ¶' : 'å°é»‘å±‹')))",
      "kind": "{{$.category}},{{$.score}}åˆ†,è¿è½½{{$.creation_status}}å®Œç»“,{{java.timeFormat(java.getString(\"last_chapter_update_time\")*1000)}}\n@js:\nresult\n.replace(/è¿è½½0å®Œç»“/g,'å®Œç»“')\n.replace(/è¿è½½1å®Œç»“/g,'è¿è½½')\n.replace(/è¿è½½4å®Œç»“/g,'å·²æ–­æ›´')\n.replace(/è¿è½½-1å®Œç»“/g,'å®Œç»“')\n.replace(/\\//g,'-')\n.replace(/\\s..:.*/g,'')",
      "lastChapter": "{{$.last_chapter_title}} â€¢ {{java.timeFormat(java.getString(\"last_chapter_update_time\")*1000)}}",
      "name": "$.book_name",
      "tocUrl": "https://api.xcvts.cn/api/xiaoshuo/fanqie?mulu={{$.book_id}}",
      "wordCount": "$.word_number"
    },
    "ruleContent": {
      "content": "$.data.content",
      "payAction": "java.toast(\"è¯·ç™»å½•è´¦å·å¹¶è´­ä¹°ä¼šå‘˜ï¼\")\njava.startBrowserAwait(\"https://fanqienovel.com/\", \"ç™»å½•\")",
      "replaceRegex": "@js:\nresult.replace(/ /g, \"\\n\");"
    },
    "ruleExplore": {
      "author": "$.author",
      "bookUrl": "https://api5-normal-lf.fqnovel.com/reading/bookapi/multi-detail/v/?aid=1967&iid=1&version_code=999&book_id={{$.book_id}}",
      "coverUrl": "$.thumb_url",
      "intro": "$.abstract##\\n",
      "kind": "{{$.category}}\n{{$.status}}\n{{$.source}}\n{{$.tags}}\nç”·ç”Ÿ{{$.gender}}å¥³ç”Ÿ\nè¿è½½{{$.creation_status}}å®Œç»“\n{{$.score}}åˆ†\n{{$..text}}\n{{$.sub_info}}\n##è¿è½½0|1å®Œç»“|ç”·ç”Ÿ0|1å¥³ç”Ÿ|ç”·ç”Ÿå¥³ç”Ÿ[\\s\\S]*\n@js:result\n.replace(\"ç”·ç”Ÿ2å¥³ç”Ÿ\",\"å‡ºç‰ˆ\")\n.replace(\"è¿è½½4å®Œç»“\",\"æ–­æ›´\")\n.replace(\"è¿è½½-1å®Œç»“\",\"æœªçŸ¥\");",
      "lastChapter": "{{$.last_chapter_title}} â€¢ {{$.last_update_time}}",
      "name": "$.book_name",
      "wordCount": "$.word_number"
    },
    "ruleSearch": {
      "author": "$.author",
      "bookList": "$.data.ret_data.*||$..book_info[*]",
      "bookUrl": "https://api5-normal-lf.fqnovel.com/reading/bookapi/multi-detail/v/?aid=1967&iid=1&version_code=999&book_id={{$.book_id}}",
      "checkKeyWord": "äººç”Ÿæ¨¡æ‹Ÿï¼šè®©å¥³å‰‘ä»™æŠ±æ†¾ç»ˆèº«",
      "coverUrl": "@js:replaceCover(java.getString(\"thumb_url\"))",
      "intro": "$.abstract##\\n",
      "kind": "ç”·ç”Ÿ{{$.gender}}å¥³ç”Ÿ\nè¿è½½{{$.creation_status}}å®Œç»“\n{{$.score}}åˆ†\n{{$..text}}\n{{$.sub_info}}\n##è¿è½½0|1å®Œç»“|ç”·ç”Ÿ0|1å¥³ç”Ÿ|ç”·ç”Ÿå¥³ç”Ÿ[\\s\\S]*\n@js:result\n.replace(\"ç”·ç”Ÿ2å¥³ç”Ÿ\",\"å‡ºç‰ˆ\")\n.replace(\"è¿è½½4å®Œç»“\",\"æ–­æ›´\")\n.replace(\"è¿è½½-1å®Œç»“\",\"æœªçŸ¥\");",
      "lastChapter": "https://api5-normal-lf.fqnovel.com/reading/bookapi/multi-detail/v/?aid=1967&iid=1&version_code=999&book_id={{$.book_id}}\n<js>\nvar detail = JSON.parse(java.ajax(result));\nvar cheaper = detail.data[0].last_chapter_title;\nvar time = detail.data[0].last_chapter_update_time;\nvar info = cheaper + java.timeFormat(time*1000);\ninfo\n\t</js>",
      "name": "$.book_name||$.title@put:{book_id: book_id}##<em>|</em>|ã€Š|ã€‹",
      "wordCount": "$.word_number"
    },
    "ruleToc": {
      "chapterList": "<js>\nvar jsonData = JSON.parse(result);\nvar chapters = jsonData.data;\n\nvar CheaperList = [];\nvar lastVolume = null;\n\nfunction detectVolumeChange(currentVolume, lastVolume) {\n    if (!lastVolume) return true;\n    var extractNumbers = function(volume) {\n    \t\n        var match = volume.match(/ç¬¬([é›¶ä¸€äºŒä¸‰å››äº”å…­ä¸ƒå…«ä¹åç™¾åƒ]+)å·/) || \n                    volume.match(/ç¬¬(\\d+)å·/);\n        return match ? match[1] : null;\n    };\n    \n    var currentNum = extractNumbers(currentVolume);\n    var lastNum = extractNumbers(lastVolume);\n    if (!currentNum || !lastNum) {\n    \t\n        return currentVolume !== lastVolume;\n    }\n    \n    return chineseToNumber(currentNum) > chineseToNumber(lastNum);\n}\nfunction chineseToNumber(chineseNum) {\n    var map = {\n        'é›¶': 0, 'ä¸€': 1, 'äºŒ': 2, 'ä¸‰': 3, 'å››': 4,\n        'äº”': 5, 'å…­': 6, 'ä¸ƒ': 7, 'å…«': 8, 'ä¹': 9,\n        'å': 10, 'ç™¾': 100, 'åƒ': 1000, 'ä¸‡': 10000\n    };\n    if (!isNaN(chineseNum)) return parseInt(chineseNum);\n    \n    var result = 0;\n    var temp = 0;\n    var lastUnit = 1;\n    \n    for (var i = 0; i < chineseNum.length; i++) {\n        var char = chineseNum[i];\n        if (map[char] >= 10) {\n            if (temp === 0) temp = 1;\n            result += temp * map[char];\n            temp = 0;\n            lastUnit = map[char];\n        } else {\n            temp = map[char];\n        }\n    }\n    return result + temp;\n}\n\nfunction convertChapterTitle(title) {\n    if (title.match(/^\\d{1,2}\\.\\s*/)) {\n        var num = parseInt(title.match(/^(\\d{1,2})\\./)[1]);\n        return \"ç¬¬\" + numberToChinese(num) + \"ç« \" + title.replace(/^\\d{1,2}\\.\\s*/, \" \");\n    }\n    return title.replace(/ç¬¬(\\d+)ç« /, function(match, num) {\n        return \"ç¬¬\" + numberToChinese(parseInt(num)) + \"ç« \";\n    });\n}\nfunction numberToChinese(num) {\n    var chineseNums = [\"é›¶\", \"ä¸€\", \"äºŒ\", \"ä¸‰\", \"å››\", \"äº”\", \"å…­\", \"ä¸ƒ\", \"å…«\", \"ä¹\"];\n    var units = [\"\", \"å\", \"ç™¾\", \"åƒ\"];\n    \n    if (num === 0) return chineseNums[0];\n    if (num < 10) return chineseNums[num];\n    if (num === 10) return \"å\";\n    \n    var str = num.toString();\n    var result = \"\";\n    \n    for (var i = 0; i < str.length; i++) {\n        var digit = parseInt(str[i]);\n        var unitIndex = str.length - i - 1;\n        \n        if (digit === 0) {\n            if (i < str.length - 1 && parseInt(str[i + 1]) !== 0) {\n                result += chineseNums[0];\n            }\n            continue;\n        }\n       \n        if (i === 0 && digit === 1 && unitIndex === 1) {\n            result += units[unitIndex];\n            continue;\n        }\n        \n        result += chineseNums[digit] + units[unitIndex];\n    }\n    \n    return result;\n}\n\nfor (var i = 0; i < chapters.length; i++) {\n    var chapter = chapters[i];\n    var currentVolume = chapter.volume_name;\n   \n    if (detectVolumeChange(currentVolume, lastVolume)) {\n        CheaperList.push({\n            Cheaper_name: currentVolume,\n            isVolume: true\n        });\n        lastVolume = currentVolume;\n    }\n    \n    var convertedTitle = convertChapterTitle(chapter.title);\n    \n    CheaperList.push({\n        Cheaper_name: convertedTitle,\n        isVolume: false,\n        Cheaper_url: `https://api.xcvts.cn/api/xiaoshuo/fanqie?content=${chapter.item_id}`\n    });\n}\n\nif (CheaperList.length > 0 && !CheaperList[0].isVolume) {\n    CheaperList.unshift({\n        Cheaper_name: chapters[0].volume_name,\n        isVolume: true\n    });\n}\nresult = CheaperList;\n</js>",
      "chapterName": "Cheaper_name",
      "chapterUrl": "Cheaper_url",
      "isVolume": "isVolume"
    },
    "searchUrl": "@js:\nfunction getUrl(key) {\n  let isNumber = /^\\d+$/.test(key);\n  if (isNumber) {\n    return `https://api5-normal-lf.fqnovel.com/reading/bookapi/multi-detail/v/?aid=1967&iid=1&version_code=999&book_id={{key}}`;\n  } else {\n    return `https://novel.snssdk.com/api/novel/channel/homepage/search/search/v1/?device_platform=android&parent_enterfrom=novel_channel_search.tab.&offset={{(page-1)*10}}&aid=1967&q={{key}}`;\n  }\n}\ngetUrl(key)",
    "weight": 0
  }
]